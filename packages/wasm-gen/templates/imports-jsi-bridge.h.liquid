#include <jsi/jsi.h>
#include <ReactCommon/TurboModule.h>

using namespace facebook::react;
using namespace facebook;

#ifdef __cplusplus
extern "C" {
#endif

{% for import in imports %}
/* import: '{{ import.module }}' '{{ import.name }}' */
{{ import.return_type }} w2c_{{ import.module }}_{{ import.name }}() {
  auto fn = ctx->importObj.getPropertyAsFunction(ctx->rt, "{{ import.name }}");

  {% if import.has_return -%}
    return
  {%- endif -%}
  fn.call(ctx->rt, {
    {%- for param in import.parameters -%}
      jsi::Value { (double)arg{{ forloop.index }} }
      {%- unless forloop.last -%},{%- endunless -%}
    {% endfor %}
  })
  {%- if import.has_return -%}.asNumber() {%- endif -%};
}
{% endfor %}

#ifdef __cplusplus
}
#endif

